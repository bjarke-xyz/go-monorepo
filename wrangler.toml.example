name = "fuelprices"
type = "javascript"
zone_id = ""
account_id = ""
route = ""
workers_dev = true
compatibility_date = "2022-03-12"

kv_namespaces = [
    { binding = "FUELPRICES", id = "", preview_id = ""}
]

[vars]
CACHE_REFRESH_KEY = "1234"
EVENT_HANDLER_KEY = "1234"

MQ_URL = "https://example.org"
MQ_VHOST = "vhost"
MQ_EXCHANGE = "amq.default"
MQ_QUEUE = "the-queue"
MQ_USER = "user"
MQ_PASS = "pass"

[build]
command = "npm install && npm run build"
[build.upload]
format = "service-worker"

[env.production]
kv_namespaces = [
    { binding = "FUELPRICES", id = "PROD_KV_ID" }
]
route = "fuelprices.bjarke.xyz/*"

[env.production.vars]
CACHE_REFRESH_KEY = "CACHEREFRESHKEY-REPLACEME"
EVENT_HANDLER_KEY = "EVENTHANDLERKEY-REPLACEME"

MQ_URL = "MQURL-REPLACEME"
MQ_VHOST = "MQVHOST-REPLACEME"
MQ_EXCHANGE = "MQEXCHANGE-REPLACEME"
MQ_QUEUE = "MQQUEUE-REPLACEME"
MQ_USER = "MQUSER-REPLACEME"
MQ_PASS = "MQPASS-REPLACEME"

[triggers]
crons = ["0 */1 * * *"]
